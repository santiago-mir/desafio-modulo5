function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=e.parcelRequired5de;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){o[t]=e},e.parcelRequired5de=i),i.register("27Lyk",(function(e,n){var o,i;t(e.exports,"register",(()=>o),(t=>o=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var s={};o=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)s[e[n]]=t[e[n]]},i=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i.register("60jVI",(function(t,e){t.exports=new URL(i("27Lyk").resolve("9FfCk"),import.meta.url).toString()})),i.register("etGmb",(function(t,e){t.exports=new URL(i("27Lyk").resolve("1Bffm"),import.meta.url).toString()})),i.register("fw6a9",(function(t,e){t.exports=new URL(i("27Lyk").resolve("hJPD1"),import.meta.url).toString()})),i.register("1GDW4",(function(t,e){t.exports=new URL(i("27Lyk").resolve("ezFAp"),import.meta.url).toString()})),i.register("hdiIz",(function(t,e){t.exports=new URL(i("27Lyk").resolve("5loN1"),import.meta.url).toString()})),i.register("9WuWR",(function(t,e){t.exports=new URL(i("27Lyk").resolve("dMosx"),import.meta.url).toString()})),i("27Lyk").register(JSON.parse('{"dZpbI":"index.bea426b2.js","9FfCk":"piedra.a94a49ea.png","1Bffm":"papel.dae44514.png","hJPD1":"tijera.7788fbe9.png","ezFAp":"ganaste.16f25709.png","5loN1":"perdiste.9d0f0f55.png","dMosx":"empate.e7568e0b.png"}'));class s extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){const t=document.createElement("button"),e=document.createElement("style");e.innerHTML="\n      .button{\n        height: 87px;\n        min-width: 330px;\n        max-width: 380px;\n        border: 10px solid var(--dark-blue);\n        border-radius: 10px;\n        background-color: var(--blue);\n        color: white;\n        font-family: 'Odibee Sans', cursive;\n        font-size: 45px;\n      }\n    ",this.shadow.appendChild(e),t.classList.add("button"),t.textContent=this.textContent,this.shadow.appendChild(t)}}customElements.define("custom-button",s);class a extends HTMLElement{tag="p";type="title";constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.tag=this.getAttribute("tag")||this.tag,this.type=this.getAttribute("type")||this.type}connectedCallback(){this.render()}render(){const t=document.createElement(this.tag),e=document.createElement("style");e.innerHTML="\n      .title{\n        font-family: 'Roboto Mono', monospace;\n        font-weight: 700;\n        font-size: 80px;\n        line-height: 70px;\n        text-align:center;\n      \n        color: var(--green);\n      }\n\n      .subtitle{\n        font-family: 'Roboto Mono', monospace;\n        font-weight: 500;\n        font-size: 40px;\n        text-align:center;\n       \n      }\n      .paragraph{\n        font-family: 'Odibee Sans', cursive;\n        font-size: 45px;\n        margin: 0;\n      }\n    ",t.textContent=this.textContent,t.classList.add(this.type),this.shadow.appendChild(e),this.shadow.appendChild(t)}}customElements.define("custom-text",a);class r extends HTMLElement{type="piedra";status="active";variant="computer-hand";constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.type=this.getAttribute("type")||"piedra",this.status=this.getAttribute("status")||"inactive",this.variant=this.getAttribute("variant")||""}connectedCallback(){this.render()}getImageURL(t){return[i("60jVI"),i("etGmb"),i("fw6a9")].find((e=>e.includes(t)))}render(){const t=document.createElement("style");t.innerHTML="\n          .imagen{\n            width: 100%;\n            height: 100%;\n            max-width: 180px;\n            max-height: 250px;\n            position: relative;\n            bottom: -30px;\n            \n          }\n          \n          .computer-hand, .user-hand{\n            width: 150px;\n            height: 320px;\n            position:relative;\n            transition: all 1s ease;\n            \n            \n          }\n          \n         .computer-hand{\n            rotate: 180deg;\n            top: -70px;\n            \n         }\n         .user-hand{\n          bottom: -70px;\n         }\n        \n          .active{\n            bottom: -110px;\n            \n          }\n          .active:hover{\n         \n            bottom: -50px;\n            transition: bottom 1s ease-out;\n          }\n          .active:focus{\n            bottom: -10px;\n          }\n          .active:active{\n            bottom: -10px;\n          }\n       \n          \n          \n       \n        \n      ";const e=this.getImageURL(this.type);this.shadow.innerHTML=`\n          <img  class="${this.classList}" src=${e}/>\n      `;const n=this.shadow.querySelector(".imagen");"active"==this.status&&n?.classList.add("active"),"computer-hand"==this.variant?(n?.classList.remove("imagen"),n?.classList.add("computer-hand")):"user-hand"==this.variant&&(n?.classList.remove("imagen"),n?.classList.add("user-hand")),this.shadow.appendChild(t)}}customElements.define("custom-image",r);const c={data:{currentGame:{myPlay:"",computerPlay:""},history:{}},listeners:[],getState(){return this.data},setState(t){this.data=t;for(const t of this.listeners)t()},setMove(t,e){const n=this.getState();n.currentGame={myPlay:t,computerPlay:e},this.setState(n)},whoWins:(t,e)=>t==e?"empate":"tijera"==t&&"papel"==e||"piedra"==t&&"tijera"==e||"papel"==t&&"piedra"==e||!("tijera"==t&&"piedra"==e||"piedra"==t&&"papel"==e||"papel"==t&&"tijera"==e)&&void 0,suscribe(t){this.listeners.push(t)},initHistory(){localStorage.getItem("history")||localStorage.setItem("history",JSON.stringify({user:0,computer:0}))},getHistory:()=>JSON.parse(localStorage.getItem("history")),saveHistory(t,e){const n=this.getHistory();1==this.whoWins(t,e)?n.user=n.user+1:0==this.whoWins(t,e)&&(n.computer=n.computer+1),localStorage.setItem("history",JSON.stringify(n))},clearHistory(){localStorage.setItem("history",JSON.stringify({user:0,computer:0}))}};const l=[{path:/\/welcome/,component:function(t){const e=document.createElement("div");return e.innerHTML='\n    <custom-text class="title">Piedra Papel o Tijera</custom-text>\n    <custom-button class="button">Empezar</custom-button>\n    <div class="hands-container">\n    <custom-image class="imagen" type="tijera"></custom-image>\n    <custom-image class="imagen" type="piedra"></custom-image>\n    <custom-image class="imagen" type="papel"></custom-image>\n   \n    </div>\n  ',e.classList.add("main-container"),e.querySelector(".button")?.addEventListener("click",(()=>{t.goTo("/instructions")})),e}},{path:/\/instructions/,component:function(t){const e=document.createElement("div");return e.innerHTML='\n      <custom-text type="subtitle">Presioná jugar\n      y elegí: piedra, papel o tijera antes de que pasen los 3 segundos.</custom-text>\n      <custom-button class="button">Jugar</custom-button>\n      <div class="hands-container">\n      <custom-image class="imagen" type="tijera"></custom-image>\n      <custom-image class="imagen" type="piedra"></custom-image>\n      <custom-image class="imagen" type="papel"></custom-image>\n      </div>\n    ',e.classList.add("main-container"),e.querySelector(".button")?.addEventListener("click",(()=>{t.goTo("/countdown")})),e}},{path:/\/countdown/,component:function(t){const e=document.createElement("div"),n=document.createElement("style");n.innerHTML="\n\n   .countdown-container{\n    min-width: 330px;\n    max-width: 400px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    align-items: center;\n   }\n\n   .hands-container{\n    height: 30vh;\n   }\n\n   .game-container{\n    flex-direction: column;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n   }\n\n   .countdown{\n    width: 350px;\n    height: 350px;\n    border-radius: 50%;\n    border: solid 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n  .disabeld{\n    pointer-events: none;\n    opacity: 50%;\n  }\n  .target{\n    opacity: 100%;\n    position: relative;\n    bottom: 50px;\n  }\n \n\n      \n  ";let o=3;e.innerHTML=`\n  <div class="countdown-container">\n  <div class="countdown"><custom-text type="title">${o}</custom-text></div>\n  <div class="hands-container">\n      <custom-image class="imagen" status="active" type="tijera"></custom-image>\n      <custom-image class="imagen" status="active" type="piedra"></custom-image>\n      <custom-image class="imagen" status="active" type="papel"></custom-image>\n   </div>   \n  </div>\n  `,e.appendChild(n);const i=e.querySelector(".countdown"),s=setInterval((()=>{o--,i.innerHTML=`\n        <custom-text type="title">${o}</custom-text>\n      `,o<=0&&(clearInterval(s),t.goTo("/welcome"))}),1e3);function a(t,o){const i=setInterval((()=>{e.innerHTML=`\n        <div class="game-container">\n        <custom-image class="imagen" variant="computer-hand" type=${o.type}></custom-image>\n        <custom-image class="imagen" variant="user-hand" type=${t.type}></custom-image>\n        </div>\n      `,e.appendChild(n),clearInterval(i)}),1e3)}const r=e.querySelectorAll(".imagen");for(const e of r)e.addEventListener("click",(e=>{clearInterval(s);const n=e.target,o=r[Math.floor(3*Math.random())];c.setMove(n.type,o.type),c.saveHistory(n.type,o.type),a(n,o);const i=setInterval((()=>{t.goTo("/results"),clearInterval(i)}),2e3);r.forEach((t=>{t.classList.add("disabeld"),n.classList.add("target")}))}));return e}},{path:/\/results/,component:function(t){const e=document.createElement("div"),n=document.createElement("style"),o=i("1GDW4"),s=i("hdiIz"),a=i("9WuWR");function r(){const t=c.getState().currentGame,e=c.whoWins(t.myPlay,t.computerPlay);let n,i;return 1==e?(n="rgb(95 203 99 / 90%);",i=o,{imgURL:i,background:n}):0==e?(n="rgba(137, 73, 73, 0.9);",i=s,{imgURL:i,background:n}):(n="rgb(254 211 92 / 90%);",i=a,{imgURL:i,background:n})}return function o(){const i=c.getHistory().user,s=c.getHistory().computer;e.innerHTML=`\n\n    <div class="results-container">\n    <div class="img-container">\n      <img src=${r().imgURL}/>\n      </div>\n     <div class="score-container">\n     <custom-text tag="h1" type="paragraph">Score</custom-text>\n     <div>\n     <custom-text class="user-score" tag="p" type="paragraph">Vos:${i}</custom-text>\n     <custom-text class="computer-score" tag="p" type="paragraph">Maquina:${s}</custom-text>\n     </div>\n     </div>\n     <custom-button class="play-again-button">Volver a Jugar</custom-button>\n     <custom-button class="reset-history-button">Limpiar Historial</custom-button>\n     </div>  \n `,n.innerHTML=`\n  .results-container{\n    height: 100vh;\n    background: ${r().background}\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .img-container{\n    width: 250px;\n    height: 250px;\n  }\n  .score-container{\n    width: 260px;\n    height: 200px;\n    border: 10px solid;\n    border-radius: 10px;\n    background: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n `,e.appendChild(n),e.querySelector(".play-again-button")?.addEventListener("click",(()=>{t.goTo("/welcome")})),e.querySelector(".reset-history-button")?.addEventListener("click",(()=>{c.clearHistory(),o()}))}(),e}}],u="/desafio-modulo5";function d(){return location.host.includes("github.io")}function m(t){function e(t){const e=d()?u+t:t;history.pushState({},"",e),n(e)}function n(n){console.log("El handleRoute recibio la ruta"+n);const o=d()?n.replace(u,""):n;for(const n of l)if(n.path.test(o)){const o=n.component({goTo:e});t.firstChild&&t.firstChild.remove(),t.appendChild(o)}}"/"==location.pathname||location.host.includes("github.io")?e("/welcome"):n(location.pathname),window.onpopstate=function(){n(location.pathname)}}!function(){const t=document.querySelector(".root");c.initHistory(),m(t)}();
//# sourceMappingURL=index.bea426b2.js.map
